{% extends "templates/basecity.html" %}
{% macro 4by4(id) %}

<div class="leftRight">
	<div {% if id == 0 or id == 2 %}class="hresize"{% else %}class="hflex"{% endif %}>
		<div class="topBottom">
			
			<div class="vresize">
				
				<div class="verticalGrow grow4"></div>
				
				
				{{ 2by2(id,0) }}
			</div>
			<div class="hroad" style="z-index: {{ id*200 + 10 }};">
		
			</div>
			<div class="vflex">
				
		
				
				{{ 2by2(id,1) }}
			</div>
		</div>

		{% if id == 2 or id == 0 %}
		<div class="horizontalGrow grow4">
			{% set top = (id - (id % 2)) / 2 * 4 %}
			{% set top = top + 0 %}
			{% set right = (id % 2) * 4 %}
			{% set right = right + 1 %}
			{% set zIndex = (top)*800+100 + (7-right)*100 %}
			{% set leftRight = 0 %}
		
			{% if id1 > 1 %}
			{% set top = 7 - (top - 4) %}
			{% set right = 7 - right %}
			{% set zIndex = (top)*800+100 + (right)*100 %}
			{% set leftRight = 1 %}
			{% endif %}
			{% set zIndex = zIndex + 6 %}
			{{ horizontalCover(top,right,zIndex,leftRight,1,0) }}
			
			{% set top = (id - (id % 2)) / 2 * 4 %}
			{% set top = top + 1 %}
			{% set right = (id % 2) * 4 %}
			{% set right = right + 1 %}
			{% set zIndex = (top)*800+100 + (7-right)*100 %}
			{% set leftRight = 0 %}
		
			{% if id1 > 1 %}
			{% set top = 7 - (top - 4) %}
			{% set right = 7 - right %}
			{% set zIndex = (top)*800+100 + (right)*100 %}
			{% set leftRight = 1 %}
			{% endif %}
			{% set zIndex = zIndex + 6 %}
			{{ horizontalCover(top,right,zIndex,leftRight,1,0) }}
			
			{% set top = (id - (id % 2)) / 2 * 4 %}
			{% set top = top + 2 %}
			{% set right = (id % 2) * 4 %}
			{% set right = right + 1 %}
			{% set zIndex = (top)*800+100 + (7-right)*100 %}
			{% set leftRight = 0 %}
		
			{% if id1 > 1 %}
			{% set top = 7 - (top - 4) %}
			{% set right = 7 - right %}
			{% set zIndex = (top)*800+100 + (right)*100 %}
			{% set leftRight = 1 %}
			{% endif %}
			{% set zIndex = zIndex + 6 %}
			{{ horizontalCover(top,right,zIndex,leftRight,1,0) }}
			
			{% set top = (id - (id % 2)) / 2 * 4 %}
			{% set top = top + 3 %}
			{% set right = (id % 2) * 4 %}
			{% set right = right + 1 %}
			{% set zIndex = (top)*800+100 + (7-right)*100 %}
			{% set leftRight = 0 %}
		
			{% if id1 > 1 %}
			{% set top = 7 - (top - 4) %}
			{% set right = 7 - right %}
			{% set zIndex = (top)*800+100 + (right)*100 %}
			{% set leftRight = 1 %}
			{% endif %}
			{% set zIndex = zIndex + 6 %}
			{{ horizontalCover(top,right,zIndex,leftRight,1,0) }}
		</div>
		{% endif %}
	</div>
	<div class="vroad" style="z-index: {{ id*200 + 30 }};">
	</div>
	<div {% if id == 3 or id == 1 %}class="hresize"{% else %}class="hflex"{% endif %}>
		<div class="topBottom">
			
			<div class="vresize">
				<div class="verticalGrow grow4"></div>
				{{ 2by2(id,2) }}
		
			</div>
			<div class="hroad"  style="z-index: {{ id*200 + 50 }};">
		
			</div>
			<div class="vflex">
				
				
				{{ 2by2(id,3) }}
			</div>
		</div>
		{% if id == 3 or id == 1 %}
		<div class="horizontalGrow grow4" style="direction: rtl;">
			{% set top = (id - (id % 2)) / 2 * 4 %}
			{% set top = top + 0 %}
			{% set right = (id % 2) * 4 %}
			{% set right = right + 2 %}
			{% set zIndex = (top)*800+100 + (7-right)*100 %}
			{% set leftRight = 0 %}
		
			{% if id1 > 1 %}
			{% set top = 7 - (top - 4) %}
			{% set right = 7 - right %}
			{% set zIndex = (top)*800+100 + (right)*100 %}
			{% set leftRight = 1 %}
			{% endif %}
			{% set zIndex = zIndex + 6 %}
			{{ horizontalCover(top,right,zIndex,leftRight,1,0) }}
			
			{% set top = (id - (id % 2)) / 2 * 4 %}
			{% set top = top + 1 %}
			{% set right = (id % 2) * 4 %}
			{% set right = right + 2 %}
			{% set zIndex = (top)*800+100 + (7-right)*100 %}
			{% set leftRight = 0 %}
		
			{% if id1 > 1 %}
			{% set top = 7 - (top - 4) %}
			{% set right = 7 - right %}
			{% set zIndex = (top)*800+100 + (right)*100 %}
			{% set leftRight = 1 %}
			{% endif %}
			{% set zIndex = zIndex + 6 %}
			{{ horizontalCover(top,right,zIndex,leftRight,1,0) }}
			
			{% set top = (id - (id % 2)) / 2 * 4 %}
			{% set top = top + 2 %}
			{% set right = (id % 2) * 4 %}
			{% set right = right + 2 %}
			{% set zIndex = (top)*800+100 + (7-right)*100 %}
			{% set leftRight = 0 %}
		
			{% if id1 > 1 %}
			{% set top = 7 - (top - 4) %}
			{% set right = 7 - right %}
			{% set zIndex = (top)*800+100 + (right)*100 %}
			{% set leftRight = 1 %}
			{% endif %}
			{% set zIndex = zIndex + 6 %}
			{{ horizontalCover(top,right,zIndex,leftRight,1,0) }}
			
			{% set top = (id - (id % 2)) / 2 * 4 %}
			{% set top = top + 3 %}
			{% set right = (id % 2) * 4 %}
			{% set right = right + 2 %}
			{% set zIndex = (top)*800+100 + (7-right)*100 %}
			{% set leftRight = 0 %}
		
			{% if id1 > 1 %}
			{% set top = 7 - (top - 4) %}
			{% set right = 7 - right %}
			{% set zIndex = (top)*800+100 + (right)*100 %}
			{% set leftRight = 1 %}
			{% endif %}
			{% set zIndex = zIndex + 6 %}
			{{ horizontalCover(top,right,zIndex,leftRight,1,0) }}
		</div>
		{% endif %}
	</div>
</div>
{% endmacro %}