{% extends "templates/basecity.html" %}
{% macro hGrow8by8(id) %}

	
{% endmacro %}
{% macro 4by4(id) %}

<div class="leftRight">
	<div {% if id == 0 or id == 2 %}class="hresize grow4"{% else %}class="hflex"{% endif %}>
		<div class="topBottom">
			
			<div class="vresize grow4">
				
				<div class="verticalGrow grow4">
					{% set top = (id - (id % 2)) / 2 * 4 %}
					{% set top = top + 1 %}
					{% set right = (id % 2) * 4 %}
					{% set right = right + 0 %}
					{% set zIndex = (top)*800+100 + (7-right)*100 %}
					{% set leftRight = 0 %}
			
					{% if id > 1 %}
					{% set top = 7 - (top - 4) %}
					{% set right = 7 - right %}
					{% set zIndex = (top)*800+100 + (right)*100 %}
					{% set leftRight = 1 %}
					{% endif %}
			
					{% set zIndex = zIndex + 3 %}
					{# first of 2 verts, only 1 hor #}
					{# id 0 or 1 is top half: right is 0,4; top is 1 #}
					{# id 2 or 3 is bot half: right is 0,4; top is 6 #}
					{{ verticalCover(top,right,zIndex,leftRight,0,1) }}
			
					{% set top = (id - (id % 2)) / 2 * 4 %}
					{% set top = top + 1 %}
					{% set right = (id % 2) * 4 %}
					{% set right = right + 1 %}
					{% set zIndex = (top)*800+100 + (7-right)*100 %}
					{% set leftRight = 0 %}
			
					{% if id > 1 %}
					{% set top = 7 - (top - 4) %}
					{% set right = 7 - right %}
					{% set zIndex = (top)*800+100 + (right)*100 %}
					{% set leftRight = 1 %}
					{% endif %}
					
					{% set zIndex = zIndex + 3 %}
					{# first of 2 verts, 2 hor #}
					{# id 0 or 1 is top half: right is 1,5; top is 1 #}
					{# id 2 or 3 is bot half: right is 1,5; top is 6 #}
					{{ verticalCover(top,right,zIndex,leftRight,0,1) }}
					
					{% set top = (id - (id % 2)) / 2 * 4 %}
					{% set top = top + 3 %}
					{% set right = (id % 2) * 4 %}
					{% set right = right + 0 %}
					{% set zIndex = (top)*800+100 + (7-right)*100 %}
					{% set leftRight = 0 %}
			
					{% if id > 1 %}
					{% set top = 7 - (top - 4) %}
					{% set right = 7 - right %}
					{% set zIndex = (top)*800+100 + (right)*100 %}
					{% set leftRight = 1 %}
					{% endif %}
			
					
					{% set zIndex = zIndex + 3 %}
					{# first of 2 verts, 1 hor #}
					{# id 0 or 1 is top half: right is 0,4; top is 3 #}
					{# id 2 or 3 is bot half: right is 0,4; top is 4 #}
					{{ verticalCover(top,right,zIndex,leftRight,0,1) }}
			
					{% set top = (id - (id % 2)) / 2 * 4 %}
					{% set top = top + 3 %}
					{% set right = (id % 2) * 4 %}
					{% set right = right + 1 %}
					{% set zIndex = (top)*800+100 + (7-right)*100 %}
					{% set leftRight = 0 %}
			
					{% if id > 1 %}
					{% set top = 7 - (top - 4) %}
					{% set right = 7 - right %}
					{% set zIndex = (top)*800+100 + (right)*100 %}
					{% set leftRight = 1 %}
					{% endif %}
					
					
					{% set zIndex = zIndex + 3 %}
					{# first of 2 verts, 2 hor #}
					{# id 0 or 1 is top half: right is 1,5; top is 3 #}
					{# id 2 or 3 is bot half: right is 1,5; top is 4 #}
					{{ verticalCover(top,right,zIndex,leftRight,0,1) }}
					
					{% if id == 2 %}
						{% for right in range(0,8) %}
					
							{% set top = 4 %}
							{% set zIndex = (top)*800+100 + (right)*100 %}
		
							{% set zIndex = zIndex + 3 %}
							{{ verticalCover(top,right,zIndex,1,0,1) }}
						{% endfor %}
					{% endif %}
					
					{{ saveButtonV(1,id*2,0) }}
				</div>
				<div class="resizeCoverV"><span><-</span><span>-></span></div>
				{% set  zIndexRoad = id*1600 + 350 %}
				{% if id > 1 %}
				{% set  zIndexRoad = (5-id)*1600 + 1150 %}
				{% endif %}
				<div class="hroad" style="z-index: {{ zIndexRoad }};">
		
				</div>
				
				{{ 2by2(id,0) }}
			</div>
			
			<div class="vflex">
				
		
				
				{{ 2by2(id,1) }}
			</div>
		</div>

		{% if id == 2 or id == 0 %}
		{% set  zIndexRoad = id*1600 + 750 %}
		{% if id > 1 %}
		{% set  zIndexRoad = (5-id)*1600 + 750 %}
		{% endif %}
		<div class="vroad" style="z-index: {{ zIndexRoad }};">
		</div>
		<div class="horizontalGrow grow4"><!--HG2 when id==0, HG6 when id==2-->
			{% set top = (id - (id % 2)) / 2 * 4 %}
			{% set top = top + 0 %}
			{% set right = (id % 2) * 4 %}
			{% set right = right + 1 %}
			{% set zIndex = (top)*800+100 + (7-right)*100 %}
			{% set leftRight = 0 %}
		
			{% if id > 1 %}
			{% set top = 7 - (top - 4) %}
			{% set right = 7 - right %}
			{% set zIndex = (top)*800+100 + (right)*100 %}
			{% set leftRight = 1 %}
			{% endif %}
			{% set zIndex = zIndex + 1 %}
			{{ horizontalCover(top,right,zIndex,leftRight,0,1) }}
			
			
			{% set top = (id - (id % 2)) / 2 * 4 %}
			{% set top = top + 1 %}
			{% set right = (id % 2) * 4 %}
			{% set right = right + 1 %}
			{% set zIndex = (top)*800+100 + (7-right)*100 %}
			{% set leftRight = 0 %}
		
			{% if id > 1 %}
			{% set top = 7 - (top - 4) %}
			{% set right = 7 - right %}
			{% set zIndex = (top)*800+100 + (right)*100 %}
			{% set leftRight = 1 %}
			{% endif %}
			{% set zIndex = zIndex + 1 %}
			{{ horizontalCover(top,right,zIndex,leftRight,0,1) }}
			{% set zIndex = zIndex + 4 %}
			{{ horizontalCover(top,right,zIndex,leftRight,1,1) }}
			
			
			{% set top = (id - (id % 2)) / 2 * 4 %}
			{% set top = top + 2 %}
			{% set right = (id % 2) * 4 %}
			{% set right = right + 1 %}
			{% set zIndex = (top)*800+100 + (7-right)*100 %}
			{% set leftRight = 0 %}
		
			{% if id > 1 %}
			{% set top = 7 - (top - 4) %}
			{% set right = 7 - right %}
			{% set zIndex = (top)*800+100 + (right)*100 %}
			{% set leftRight = 1 %}
			{% endif %}
			{% set zIndex = zIndex + 1 %}
			{{ horizontalCover(top,right,zIndex,leftRight,0,1) }}
			
			
			{% set top = (id - (id % 2)) / 2 * 4 %}
			{% set top = top + 3 %}
			{% set right = (id % 2) * 4 %}
			{% set right = right + 1 %}
			{% set zIndex = (top)*800+100 + (7-right)*100 %}
			{% set leftRight = 0 %}
		
			{% if id > 1 %}
			{% set top = 7 - (top - 4) %}
			{% set right = 7 - right %}
			{% set zIndex = (top)*800+100 + (right)*100 %}
			{% set leftRight = 1 %}
			{% endif %}
			{% set zIndex = zIndex + 1 %}
			{{ horizontalCover(top,right,zIndex,leftRight,0,1) }}
			{% set zIndex = zIndex + 4 %}
			{{ horizontalCover(top,right,zIndex,leftRight,1,1) }}
			
			
			
			
			{% set top = (id - (id % 2)) / 2 * 4 %}
			{% set top = top + 0 %}
			{% set right = (id % 2) * 4 %}
			{% set right = right + 2 %}
			{% set zIndex = (top)*800+100 + (7-right)*100 %}
			{% set leftRight = 0 %}
		
			{% if id > 1 %}
			{% set top = 7 - (top - 4) %}
			{% set right = 7 - right %}
			{% set zIndex = (top)*800+100 + (right)*100 %}
			{% set leftRight = 1 %}
			{% endif %}
			{% set zIndex = zIndex + 1 %}
			{{ horizontalCover(top,right,zIndex,leftRight,0,1) }}
			
			
			{% set top = (id - (id % 2)) / 2 * 4 %}
			{% set top = top + 1 %}
			{% set right = (id % 2) * 4 %}
			{% set right = right + 2 %}
			{% set zIndex = (top)*800+100 + (7-right)*100 %}
			{% set leftRight = 0 %}
		
			{% if id > 1 %}
			{% set top = 7 - (top - 4) %}
			{% set right = 7 - right %}
			{% set zIndex = (top)*800+100 + (right)*100 %}
			{% set leftRight = 1 %}
			{% endif %}
			{% set zIndex = zIndex + 1 %}
			{{ horizontalCover(top,right,zIndex,leftRight,0,1) }}
			{% set zIndex = zIndex + 4 %}
			{{ horizontalCover(top,right,zIndex,leftRight,1,1) }}
			
			
			{% set top = (id - (id % 2)) / 2 * 4 %}
			{% set top = top + 2 %}
			{% set right = (id % 2) * 4 %}
			{% set right = right + 2 %}
			{% set zIndex = (top)*800+100 + (7-right)*100 %}
			{% set leftRight = 0 %}
		
			{% if id > 1 %}
			{% set top = 7 - (top - 4) %}
			{% set right = 7 - right %}
			{% set zIndex = (top)*800+100 + (right)*100 %}
			{% set leftRight = 1 %}
			{% endif %}
			{% set zIndex = zIndex + 1 %}
			{{ horizontalCover(top,right,zIndex,leftRight,0,1) }}
			
			
			{% set top = (id - (id % 2)) / 2 * 4 %}
			{% set top = top + 3 %}
			{% set right = (id % 2) * 4 %}
			{% set right = right + 2 %}
			{% set zIndex = (top)*800+100 + (7-right)*100 %}
			{% set leftRight = 0 %}
		
			{% if id > 1 %}
			{% set top = 7 - (top - 4) %}
			{% set right = 7 - right %}
			{% set zIndex = (top)*800+100 + (right)*100 %}
			{% set leftRight = 1 %}
			{% endif %}
			{% set zIndex = zIndex + 1 %}
			{{ horizontalCover(top,right,zIndex,leftRight,0,1) }}
			{% set zIndex = zIndex + 4 %}
			{{ horizontalCover(top,right,zIndex,leftRight,1,1) }}
		</div>
		<div class="resizeCoverH"><span><-</span><span>-></span></div>
				
		{% endif %}
		
	</div>
	
	<div {% if id == 3 or id == 1 %}class="hresize grow4 rtl"{% else %}class="hflex"{% endif %}>
		<div class="topBottom">
			
			<div class="vresize grow4">
				<div class="verticalGrow grow4">
					{% set top = (id - (id % 2)) / 2 * 4 %}
					{% set top = top + 1 %}
					{% set right = (id % 2) * 4 %}
					{% set right = right + 2 %}
					{% set zIndex = (top)*800+100 + (7-right)*100 %}
					{% set leftRight = 0 %}
			
					{% if id > 1 %}
					{% set top = 7 - (top - 4) %}
					{% set right = 7 - right %}
					{% set zIndex = (top)*800+100 + (right)*100 %}
					{% set leftRight = 1 %}
					{% endif %}
			
					{% set zIndex = zIndex + 3 %}
					{# first of 2 verts, 2 hor #}
					{# id 0 or 1 is top half: right is 2,6; top is 1 #}
					{# id 2 or 3 is bot half: right is 2,6; top is 6 #}
					{{ verticalCover(top,right,zIndex,leftRight,0,1) }}
			
					{% set top = (id - (id % 2)) / 2 * 4 %}
					{% set top = top + 1 %}
					{% set right = (id % 2) * 4 %}
					{% set right = right + 3 %}
					{% set zIndex = (top)*800+100 + (7-right)*100 %}
					{% set leftRight = 0 %}
			
					{% if id > 1 %}
					{% set top = 7 - (top - 4) %}
					{% set right = 7 - right %}
					{% set zIndex = (top)*800+100 + (right)*100 %}
					{% set leftRight = 1 %}
					{% endif %}
					
					{% set zIndex = zIndex + 3 %}
					{# first of 2 verts, 1 hor #}
					{# id 0 or 1 is top half: right is 3,7; top is 1 #}
					{# id 2 or 3 is bot half: right is 3,7; top is 6 #}
					{{ verticalCover(top,right,zIndex,leftRight,0,1) }}
					
					{% set top = (id - (id % 2)) / 2 * 4 %}
					{% set top = top + 3 %}
					{% set right = (id % 2) * 4 %}
					{% set right = right + 2 %}
					{% set zIndex = (top)*800+100 + (7-right)*100 %}
					{% set leftRight = 0 %}
			
					{% if id > 1 %}
					{% set top = 7 - (top - 4) %}
					{% set right = 7 - right %}
					{% set zIndex = (top)*800+100 + (right)*100 %}
					{% set leftRight = 1 %}
					{% endif %}
			
					
					{% set zIndex = zIndex + 3 %}
					{# first of 2 verts, 2 hor #}
					{# id 0 or 1 is top half: right is 2,6; top is 3 #}
					{# id 2 or 3 is bot half: right is 2,6; top is 4 #}
					{{ verticalCover(top,right,zIndex,leftRight,0,1) }}
			
					{% set top = (id - (id % 2)) / 2 * 4 %}
					{% set top = top + 3 %}
					{% set right = (id % 2) * 4 %}
					{% set right = right + 3 %}
					{% set zIndex = (top)*800+100 + (7-right)*100 %}
					{% set leftRight = 0 %}
			
					{% if id > 1 %}
					{% set top = 7 - (top - 4) %}
					{% set right = 7 - right %}
					{% set zIndex = (top)*800+100 + (right)*100 %}
					{% set leftRight = 1 %}
					{% endif %}
					
					
					{% set zIndex = zIndex + 3 %}
					{# first of 2 verts, 1 hor #}
					{# id 0 or 1 is top half: right is 3,7; top is 3 #}
					{# id 2 or 3 is bot half: right is 3,7; top is 4 #}
					{{ verticalCover(top,right,zIndex,leftRight,0,1) }}
					
					{{ saveButtonV(1,id*2+1,0) }}
				</div>
				<div class="resizeCoverV"><span><-</span><span>-></span></div>
				{% set  zIndexRoad = id*1600 + 1150 %}
				{% if id > 1 %}
				{% set  zIndexRoad = (5-id)*1600 + 350 %}
				{% endif %}
				<div class="hroad"  style="z-index: {{ zIndexRoad }};">
		
				</div>
				{{ 2by2(id,2) }}
		
			</div>
			
			<div class="vflex">
				
				
				{{ 2by2(id,3) }}
			</div>
		</div>
		{% if id == 3 or id == 1 %}
		{% set  zIndexRoad = id*1600 + 750 %}
		{% if id > 1 %}
		{% set  zIndexRoad = (5-id)*1600 + 750 %}
		{% endif %}
		<div class="vroad" style="z-index: {{ zIndexRoad }};">
		</div>
		<div class="horizontalGrow grow4" style="direction: rtl;"><!--HG6 when id==1, HG2 when id==3-->
			{% set top = (id - (id % 2)) / 2 * 4 %}
			{% set top = top + 0 %}
			{% set right = (id % 2) * 4 %}
			{% set right = right + 2 %}
			{% set zIndex = (top)*800+100 + (7-right)*100 %}
			{% set leftRight = 0 %}
		
			{% if id > 1 %}
			{% set top = 7 - (top - 4) %}
			{% set right = 7 - right %}
			{% set zIndex = (top)*800+100 + (right)*100 %}
			{% set leftRight = 1 %}
			{% endif %}
			{% set zIndex = zIndex + 1 %}
			{{ horizontalCover(top,right,zIndex,leftRight,0,1) }}
			
			
			{% set top = (id - (id % 2)) / 2 * 4 %}
			{% set top = top + 1 %}
			{% set right = (id % 2) * 4 %}
			{% set right = right + 2 %}
			{% set zIndex = (top)*800+100 + (7-right)*100 %}
			{% set leftRight = 0 %}
		
			{% if id > 1 %}
			{% set top = 7 - (top - 4) %}
			{% set right = 7 - right %}
			{% set zIndex = (top)*800+100 + (right)*100 %}
			{% set leftRight = 1 %}
			{% endif %}
			{% set zIndex = zIndex + 1 %}
			{{ horizontalCover(top,right,zIndex,leftRight,0,1) }}
			{% set zIndex = zIndex + 4 %}
			{{ horizontalCover(top,right,zIndex,leftRight,1,1) }}
			
			
			{% set top = (id - (id % 2)) / 2 * 4 %}
			{% set top = top + 2 %}
			{% set right = (id % 2) * 4 %}
			{% set right = right + 2 %}
			{% set zIndex = (top)*800+100 + (7-right)*100 %}
			{% set leftRight = 0 %}
		
			{% if id > 1 %}
			{% set top = 7 - (top - 4) %}
			{% set right = 7 - right %}
			{% set zIndex = (top)*800+100 + (right)*100 %}
			{% set leftRight = 1 %}
			{% endif %}
			{% set zIndex = zIndex + 1 %}
			{{ horizontalCover(top,right,zIndex,leftRight,0,1) }}
			
			
			{% set top = (id - (id % 2)) / 2 * 4 %}
			{% set top = top + 3 %}
			{% set right = (id % 2) * 4 %}
			{% set right = right + 2 %}
			{% set zIndex = (top)*800+100 + (7-right)*100 %}
			{% set leftRight = 0 %}
		
			{% if id > 1 %}
			{% set top = 7 - (top - 4) %}
			{% set right = 7 - right %}
			{% set zIndex = (top)*800+100 + (right)*100 %}
			{% set leftRight = 1 %}
			{% endif %}
			{% set zIndex = zIndex + 1 %}
			{{ horizontalCover(top,right,zIndex,leftRight,0,1) }}
			{% set zIndex = zIndex + 4 %}
			{{ horizontalCover(top,right,zIndex,leftRight,1,1) }}
			
			
			
			{% set top = (id - (id % 2)) / 2 * 4 %}
			{% set top = top + 0 %}
			{% set right = (id % 2) * 4 %}
			{% set right = right + 1 %}
			{% set zIndex = (top)*800+100 + (7-right)*100 %}
			{% set leftRight = 0 %}
		
			{% if id > 1 %}
			{% set top = 7 - (top - 4) %}
			{% set right = 7 - right %}
			{% set zIndex = (top)*800+100 + (right)*100 %}
			{% set leftRight = 1 %}
			{% endif %}
			{% set zIndex = zIndex + 1 %}
			{{ horizontalCover(top,right,zIndex,leftRight,0,1) }}
			
			
			{% set top = (id - (id % 2)) / 2 * 4 %}
			{% set top = top + 1 %}
			{% set right = (id % 2) * 4 %}
			{% set right = right + 1 %}
			{% set zIndex = (top)*800+100 + (7-right)*100 %}
			{% set leftRight = 0 %}
		
			{% if id > 1 %}
			{% set top = 7 - (top - 4) %}
			{% set right = 7 - right %}
			{% set zIndex = (top)*800+100 + (right)*100 %}
			{% set leftRight = 1 %}
			{% endif %}
			{% set zIndex = zIndex + 1 %}
			{{ horizontalCover(top,right,zIndex,leftRight,0,1) }}
			{% set zIndex = zIndex + 4 %}
			{{ horizontalCover(top,right,zIndex,leftRight,1,1) }}
			
			
			{% set top = (id - (id % 2)) / 2 * 4 %}
			{% set top = top + 2 %}
			{% set right = (id % 2) * 4 %}
			{% set right = right + 1 %}
			{% set zIndex = (top)*800+100 + (7-right)*100 %}
			{% set leftRight = 0 %}
		
			{% if id > 1 %}
			{% set top = 7 - (top - 4) %}
			{% set right = 7 - right %}
			{% set zIndex = (top)*800+100 + (right)*100 %}
			{% set leftRight = 1 %}
			{% endif %}
			{% set zIndex = zIndex + 1 %}
			{{ horizontalCover(top,right,zIndex,leftRight,0,1) }}
			
			
			{% set top = (id - (id % 2)) / 2 * 4 %}
			{% set top = top + 3 %}
			{% set right = (id % 2) * 4 %}
			{% set right = right + 1 %}
			{% set zIndex = (top)*800+100 + (7-right)*100 %}
			{% set leftRight = 0 %}
		
			{% if id > 1 %}
			{% set top = 7 - (top - 4) %}
			{% set right = 7 - right %}
			{% set zIndex = (top)*800+100 + (right)*100 %}
			{% set leftRight = 1 %}
			{% endif %}
			{% set zIndex = zIndex + 1 %}
			{{ horizontalCover(top,right,zIndex,leftRight,0,1) }}
			{% set zIndex = zIndex + 4 %}
			{{ horizontalCover(top,right,zIndex,leftRight,1,1) }}
		</div>
		<div class="resizeCoverHR"><span><-</span><span>-></span></div>
				
		{% endif %}
	</div>
</div>
{% endmacro %}