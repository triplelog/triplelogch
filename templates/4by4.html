{% extends "templates/8by8.html" %}
{% macro 4by4(angle1,angle2,angle3,angle4,id1,id2) %}

{% if angle1 > 0 %}
{% set id2 = 3 - id2 %}
{% endif %}
{% if angle2 > 0 %}
	{% if id2 == 0 %}
	{% set id2 = 1 %}
	{% elif id2 == 2 %}
	{% set id2 = 3 %}
	{% elif id2 == 1 %}
	{% set id2 = 0 %}
	{% elif id2 == 3 %}
	{% set id2 = 2 %}
	{% endif %}
{% endif %}
<div class="topBottom" style="transform: rotate({{ angle3 }}deg)">
	<div class="vresize">
		<div class="smallGrid">
			<div class="leftRight" style="transform: rotate({{ angle2 + angle4 }}deg)">
				<div class="hresize">
					{% if angle1 + angle2 + angle3 == 180 or  angle1 + angle2 + angle3 == 540 %}
					{% set id3 = 3 %}
					{% else %}
					{% set id3 = 0 %}
					{% endif %}
					
					{% if angle2 + angle4 == 180 %}
						{% if id3 == 0 %}
						{% set id3 = 1 %}
						{% elif id3 == 1 %}
						{% set id3 = 0 %}
						{% elif id3 == 2 %}
						{% set id3 = 3 %}
						{% elif id3 == 3 %}
						{% set id3 = 2 %}
						{% endif %}
					{% endif %}
					<div class="horizontalGrow"></div>
					<div class="zoneCell cell-{{ id1 }}{{ id2 }}3" style="transform: rotate({{ angle1 + angle3 + angle4 }}deg)">
						<label for="blank-{{ id1 }}{{ id2 }}3">Blank-{{ id1 }}-{{ id2 }}-{{ id3 }}</label>
						<label for="sfh-{{ id1 }}{{ id2 }}3">SFH</label>
						<label for="mfh-{{ id1 }}{{ id2 }}3">MFH</label>
					</div>
					{{ sfh(angle1 + angle3 + angle4,id1,id2,id3) }}
					{{ mfh(angle1 + angle3 + angle4,id1,id2,id3) }}
				</div>
				<div class="vroad">
					
				</div>
				<div class="hflex">
					{% if angle1 + angle2 + angle3 == 180 or  angle1 + angle2 + angle3 == 540 %}
					{% set id3 = 2 %}
					{% else %}
					{% set id3 = 1 %}
					{% endif %}
					
					{% if angle2 + angle4 == 180 %}
						{% if id3 == 0 %}
						{% set id3 = 1 %}
						{% elif id3 == 1 %}
						{% set id3 = 0 %}
						{% elif id3 == 2 %}
						{% set id3 = 3 %}
						{% elif id3 == 3 %}
						{% set id3 = 2 %}
						{% endif %}
					{% endif %}
					<div class="zoneCell cell-{{ id1 }}{{ id2 }}3" style="transform: rotate({{ angle1 + angle3 + angle4 }}deg)">
						<label for="blank-{{ id1 }}{{ id2 }}3">Blank-{{ id1 }}-{{ id2 }}-{{ id3 }}</label>
						<label for="sfh-{{ id1 }}{{ id2 }}3">SFH</label>
						<label for="mfh-{{ id1 }}{{ id2 }}3">MFH</label>
					</div>
					
					{{ park(angle1 + angle3 + angle4,id1,id2,id3) }}
				</div>
			</div>
		
		</div>
		<div class="verticalGrow"></div>
	</div>
	<div class="hroad">
	</div>
	<div class="vflex">
		<div class="smallGrid">
			<div class="leftRight" style="transform: rotate({{ angle2 + angle4 }}deg)">
				<div class="hresize">
					{% if angle1 + angle2 + angle3 == 180 or  angle1 + angle2 + angle3 == 540 %}
					{% set id3 = 1 %}
					{% else %}
					{% set id3 = 2 %}
					{% endif %}
					
					{% if angle2 + angle4 == 180 %}
						{% if id3 == 0 %}
						{% set id3 = 1 %}
						{% elif id3 == 1 %}
						{% set id3 = 0 %}
						{% elif id3 == 2 %}
						{% set id3 = 3 %}
						{% elif id3 == 3 %}
						{% set id3 = 2 %}
						{% endif %}
					{% endif %}
					<div class="horizontalGrow"></div>
					<div class="zoneCell cell-{{ id1 }}{{ id2 }}3" style="transform: rotate({{ angle1 + angle3 + angle4 }}deg)">
						<label for="blank-{{ id1 }}{{ id2 }}3">Blank-{{ id1 }}-{{ id2 }}-{{ id3 }}</label>
						<label for="sfh-{{ id1 }}{{ id2 }}3">SFH</label>
						<label for="mfh-{{ id1 }}{{ id2 }}3">MFH</label>
					</div>
					{{ solar(angle1 + angle3 + angle4,id1,id2,id3) }}
					
				</div>
				<div class="vroad">
					
				</div>
				<div class="hflex">
					{% if angle1 + angle2 + angle3 == 180 or  angle1 + angle2 + angle3 == 540 %}
					{% set id3 = 0 %}
					{% else %}
					{% set id3 = 3 %}
					{% endif %}
					
					{% if angle2 + angle4 == 180 %}
						{% if id3 == 0 %}
						{% set id3 = 1 %}
						{% elif id3 == 1 %}
						{% set id3 = 0 %}
						{% elif id3 == 2 %}
						{% set id3 = 3 %}
						{% elif id3 == 3 %}
						{% set id3 = 2 %}
						{% endif %}
					{% endif %}
					<div class="zoneCell cell-{{ id1 }}{{ id2 }}3" style="transform: rotate({{ angle1 + angle3 + angle4 }}deg)">
						<label for="blank-{{ id1 }}{{ id2 }}3">Blank-{{ id1 }}-{{ id2 }}-{{ id3 }}</label>
						<label for="sfh-{{ id1 }}{{ id2 }}3">SFH</label>
						<label for="mfh-{{ id1 }}{{ id2 }}3">MFH</label>
					</div>
					
					{{ wind(angle1 + angle3 + angle4,id1,id2,id3) }}
				</div>
			</div>
		
		</div>
		
	</div>
</div>
{% endmacro %}

{% macro zoneButtons(name) %}
	<input type="radio" name="cell-000" id="blank-000" checked>
	<input type="radio" name="cell-000" id="sfh-000">
	<input type="radio" name="cell-000" id="mfh-000">
{% endmacro %}