{{ define "main" }}
{{ $initFood := (add (add (add (mul 21 (int (index $.Params.existingPlots 0))) (mul 16 (int (index $.Params.existingPlots 1)))) (add (mul 3 (int (index $.Params.existingPlots 2))) (mul 10 (int (index $.Params.existingPlots 5))))) (add (add (mul 30 (int (index $.Params.existingPlots 6))) (mul 15 (int (index $.Params.existingPlots 7)))) (add (mul 6 (int (index $.Params.existingPlots 8))) (0))) ) }}
{{ $initWater := (add (add (add (mul -1 (int (index $.Params.existingPlots 0))) (mul -1 (int (index $.Params.existingPlots 1)))) (add (mul -1 (int (index $.Params.existingPlots 2))) (mul 30 (int (index $.Params.existingPlots 3))))) (add (add (mul -5 (int (index $.Params.existingPlots 6))) (mul -5 (int (index $.Params.existingPlots 7)))) (add (mul -5 (int (index $.Params.existingPlots 8))) (0))) ) }}
{{ $initFeed := (add (add (add (mul -20 (int (index $.Params.existingPlots 0))) (mul -10 (int (index $.Params.existingPlots 1)))) (add (mul -10 (int (index $.Params.existingPlots 2))) (mul 3 (int (index $.Params.existingPlots 5))))) (add (add (mul 0 (int (index $.Params.existingPlots 6))) (mul 15 (int (index $.Params.existingPlots 7)))) (add (mul 24 (int (index $.Params.existingPlots 8))) (0))) ) }}
{{ $initPoop := (add (add (add (mul 10 (int (index $.Params.existingPlots 0))) (mul 10 (int (index $.Params.existingPlots 1)))) (add (mul 10 (int (index $.Params.existingPlots 2))) (mul 0 (int (index $.Params.existingPlots 5))))) (add (add (mul -10 (int (index $.Params.existingPlots 6))) (mul -10 (int (index $.Params.existingPlots 7)))) (add (mul -10 (int (index $.Params.existingPlots 8))) (0))) ) }}
{{ $initFire := (add (add (add (mul 15 (int (index $.Params.existingPlots 4))) (mul 2 (int (index $.Params.existingPlots 5)))) (add (mul 0 (int (index $.Params.existingPlots 2))) (mul 0 (int (index $.Params.existingPlots 5))))) (add (add (mul 0 (int (index $.Params.existingPlots 6))) (mul 0 (int (index $.Params.existingPlots 7)))) (add (mul 0 (int (index $.Params.existingPlots 8))) (0))) ) }}
{{ $initClothes := (add (add (add (mul 5 (int (index $.Params.existingPlots 0))) (mul 13 (int (index $.Params.existingPlots 2)))) (add (mul 0 (int (index $.Params.existingPlots 2))) (mul 0 0))) (add (add (mul 0 (int (index $.Params.existingPlots 6))) (mul 0 (int (index $.Params.existingPlots 7)))) (add (mul 0 (int (index $.Params.existingPlots 8))) (0))) ) }}


<html>
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>{{ .Title }}</title>
<link rel="icon" href="{{ .Site.Params.favicon | absURL }}">
<meta name="description" content="{{ .Params.description }}"/>

<style>


{{ range $ii := (seq $.Params.maxTurns) }}	
	.radioBU{{ $ii }}:Not(:checked) ~ input.radioPts1:checked + label{
		counter-increment: old1 {{ add 0 (mul 21 $ii)}} old2 {{ add 0 (mul -1 $ii)}} old3 {{ add 0 (mul -20 $ii)}} old4 {{ add 0 (mul 10 $ii)}} old6 {{ add 0 (mul 5 $ii)}} points1 {{ add 21 (mul 21 $ii)}} points2 {{ add -1 (mul -1 $ii)}} points3 {{ add -20 (mul -20 $ii)}} points4 {{ add 10 (mul 10 $ii)}} points6 {{ add 5 (mul 5 $ii)}};
	}
	.radioBU{{ $ii }}:Not(:checked) ~ input.radioPts2:checked + label{
		counter-increment: old1 {{ add 0 (mul 16 $ii)}} old2 {{ add 0 (mul -1 $ii)}} old3 {{ add 0 (mul -10 $ii)}} old4 {{ add 0 (mul 10 $ii)}} points1 {{ add 16 (mul 16 $ii)}} points2 {{ add -1 (mul -1 $ii)}} points3 {{ add -10 (mul -10 $ii)}} points4 {{ add 10 (mul 10 $ii)}};
	}
	.radioBU{{ $ii }}:Not(:checked) ~ input.radioPts3:checked + label{
		counter-increment: old1 {{ add 0 (mul 3 $ii)}} old2 {{ add 0 (mul -1 $ii)}} old3 {{ add 0 (mul -10 $ii)}} old4 {{ add 0 (mul 10 $ii)}} old6 {{ add 0 (mul 13 $ii)}} points1 {{ add 3 (mul 3 $ii)}} points2 {{ add -1 (mul -1 $ii)}} points3 {{ add -10 (mul -10 $ii)}} points4 {{ add 10 (mul 10 $ii)}} points6 {{ add 13 (mul 13 $ii)}};
	}
	.radioBU{{ $ii }}:Not(:checked) ~ input.radioPts4:checked + label{
		counter-increment: old2 {{ add 0 (mul 30 $ii)}} points2 {{ add 30 (mul 30 $ii)}};
	}
	.radioBU{{ $ii }}:Not(:checked) ~ input.radioPts5:checked + label{
		counter-increment: old5 {{ add 0 (mul 15 $ii)}} points5 {{ add 15 (mul 15 $ii)}};
	}
	.radioBU{{ $ii }}:Not(:checked) ~ input.radioPts6:checked + label{
		counter-increment: old1 {{ add 0 (mul 10 $ii)}} old3 {{ add 0 (mul 3 $ii)}} old5 {{ add 0 (mul 2 $ii)}} points1 {{ add 10 (mul 10 $ii)}} points3 {{ add 3 (mul 3 $ii)}} points5 {{ add 2 (mul 2 $ii)}};
	}
	.radioBU{{ $ii }}:Not(:checked) ~ input.radioPts7:checked + label{
		counter-increment: old1 {{ add 0 (mul 30 $ii)}} old2 {{ add 0 (mul -5 $ii)}} old4 {{ add 0 (mul -10 $ii)}} points1 {{ add 30 (mul 30 $ii)}} points2 {{ add -5 (mul -5 $ii)}} points4 {{ add -10 (mul -10 $ii)}};
	}
	.radioBU{{ $ii }}:Not(:checked) ~ input.radioPts8:checked + label{
		counter-increment: old1 {{ add 0 (mul 15 $ii)}} old2 {{ add 0 (mul -5 $ii)}} old3 {{ add 0 (mul 15 $ii)}} old4 {{ add 0 (mul -10 $ii)}} points1 {{ add 15 (mul 15 $ii)}} points2 {{ add -5 (mul -5 $ii)}} points3 {{ add 15 (mul 15 $ii)}} points4 {{ add -10 (mul -10 $ii)}};
	}
	.radioBU{{ $ii }}:Not(:checked) ~ input.radioPts9:checked + label{
		counter-increment: old1 {{ add 0 (mul 6 $ii)}} old2 {{ add 0 (mul -5 $ii)}} old3 {{ add 0 (mul 24 $ii)}} old4 {{ add 0 (mul -10 $ii)}} points1 {{ add 6 (mul 6 $ii)}} points2 {{ add -5 (mul -5 $ii)}} points3 {{ add 24 (mul 24 $ii)}} points4 {{ add -10 (mul -10 $ii)}};
	}
	
	.radioBU{{ $ii }}:Not(:checked) ~ #counterSpan{
		{{ if modBool (add 1 $ii) 3}}
			{{ $totalPeople :=  (sub (add (div (mul (mul 3 (add (div $ii 3) 1)) (add $.Params.startPeople (add $.Params.startPeople (div $ii 3)))) 2) (mul (sub $ii (mul 3 (div $ii 3))) (add $.Params.startPeople (div $ii 3)))) (add (mul 3 $.Params.startPeople) (mul 2 (div $ii 3)))) }}
			{{ $currentPeople := (add $.Params.startPeople (div $ii 3)) }}
			counter-increment: change1 {{ add (mul 30 (sub $ii 1)) (mul -30 ($currentPeople)) }} points1 {{ add (mul $initFood $ii) (mul -30 ($totalPeople)) }} old1 {{ add (mul $initFood (sub $ii 1)) (mul -30 (sub $totalPeople $currentPeople)) }} change2 {{ add (mul 3 (sub $ii 1)) (mul -3 (add $.Params.startPeople (div $ii 3))) }} points2 {{ add (mul $initWater $ii) (mul -3 ($totalPeople)) }} old2 {{ add (mul $initWater (sub $ii 1)) (mul -3 (sub $totalPeople $currentPeople)) }} points3 {{ mul $initFeed $ii}} old3 {{ mul $initFeed (sub $ii 1)}} points4 {{ mul $initPoop $ii }} old4 {{ mul $initPoop (sub $ii 1) }} change5 {{ add (mul 5 (sub $ii 1)) (mul -5 (add $.Params.startPeople (div $ii 3))) }} points5 {{ add (mul $initFire $ii) (mul -5 ($totalPeople)) }} old5 {{ add (mul $initFire (sub $ii 1)) (mul -5 (sub $totalPeople $currentPeople)) }} change6 {{ add (mul 5 (sub $ii 1)) (mul -5 (add $.Params.startPeople (div $ii 3))) }} points6 {{ add (mul $initClothes $ii) (mul -5 ($totalPeople)) }} old6 {{ add (mul $initClothes (sub $ii 1)) (mul -5 (sub $totalPeople $currentPeople)) }} change7 {{sub 1 $ii}} points7 {{ div $ii 3}} old7 {{div (sub $ii 1) 3 }};
		{{ else }}
			{{ $totalPeople :=  (sub (add (div (mul (mul 3 (add (div $ii 3) 1)) (add $.Params.startPeople (add $.Params.startPeople (div $ii 3)))) 2) (mul (sub $ii (mul 3 (div $ii 3))) (add $.Params.startPeople (div $ii 3)))) (add (mul 3 $.Params.startPeople) (mul 2 (div $ii 3)))) }}
			{{ $currentPeople := (add $.Params.startPeople (div $ii 3)) }}
			counter-increment: change1 {{ add (mul 0 (sub $ii 1)) (mul -30 ($currentPeople)) }} points1 {{ add (mul $initFood $ii) (mul -30 ($totalPeople)) }} old1 {{ add (mul $initFood (sub $ii 1)) (mul -30 (sub $totalPeople $currentPeople)) }} change2 {{ mul -3 (add $.Params.startPeople (div $ii 3)) }} points2 {{ add (mul $initWater $ii) (mul -3 ($totalPeople)) }} old2 {{ add (mul $initWater (sub $ii 1)) (mul -3 (sub $totalPeople $currentPeople)) }} points3 {{ mul $initFeed $ii}} old3 {{ mul $initFeed (sub $ii 1)}} points4 {{ mul $initPoop $ii }} old4 {{ mul $initPoop (sub $ii 1) }} change5 {{ mul -5 (add $.Params.startPeople (div $ii 3)) }} points5 {{ add (mul $initFire $ii) (mul -5 ($totalPeople)) }} old5 {{ add (mul $initFire (sub $ii 1)) (mul -5 (sub $totalPeople $currentPeople)) }} change6 {{ mul -5 (add $.Params.startPeople (div $ii 3)) }} points6 {{ add (mul $initClothes $ii) (mul -5 ($totalPeople)) }} old6 {{ add (mul $initClothes (sub $ii 1)) (mul -5 (sub $totalPeople $currentPeople)) }} change7 {{ if eq (mod $ii 3) 0 }} {{if gt $ii 1 }}{{sub $ii 0}}{{ else }}0{{ end }} {{ else }}0{{ end }} points7 {{ div $ii 3}} old7 {{div (sub $ii 1) 3 }};
		{{ end }}
		
	}
	
	.radioBU{{ $ii }}:Not(:checked) ~ .unchecked:checked + label{
		{{ if modBool (add 1 $ii) 3}}
			counter-increment: change1 -30 change2 -3 change5 -5 change6 -5 change7 1;
		{{ else }}
			counter-increment: change1 0 change2 0 change5 0 change6 0 change7 {{ if modBool $ii 3}}{{if gt $ii 1 }}-1{{ else }}0{{ end }}{{ else }}0{{ end }};
		{{ end }}
		
	}

{{ end }}



</style>
</head>
<body>

	<div class="mainDiv">
		{{ range $ii := (seq $.Params.maxTurns) }}
			{{ range $i := (seq 9) }}
			  <input type="radio" name="radio{{ $ii }}n{{ $i }}" style="display:none;" class="radioBU{{ $ii }} radioBU radio{{ $i }}UU" id="radio{{ $ii }}U{{ $i }}" checked="checked">
			  <label class="cmarkU cmarkU{{ $i }}" for="radio{{ $ii }}U{{ $i }}"><img class="cmarkimg" src="../img/sudokufarm/{{ $i }}.png"></label>
			{{ end }}
		{{ end }}
		<span id="counterSpan"></span>
		
  		{{ range $i := (seq 9) }}
  		
			  {{ range $rowI := (seq 9) }}
				{{ range $colI := (seq 9) }}<input type="checkbox" style="display:none;" class="{{ if not (eq (index (index $.Params.puzzle (sub $rowI 1)) (sub $colI 1)) $i) }}unchecked{{ end }} points{{ $i}} row{{ $rowI }}{{ $i }} col{{ $colI }}{{ $i }} box{{add (add (div (sub $colI 1) 3) (mul 3 (div (sub $rowI 1) 3))) 1 }}{{ $i }}" id="cell{{ $i }}{{ $rowI }}{{ $colI }}" {{ if (eq (index (index $.Params.puzzle (sub $rowI 1)) (sub $colI 1)) $i) }}checked{{ end }}><label for="cell{{ $i }}{{ $rowI }}{{ $colI }}" class="col{{ $colI }} row{{ $rowI }} check{{ $i }}"><img class="cmarkimg" src="../img/sudokufarm/{{ $i }}.png"></label><label class="col{{ $colI }} row{{ $rowI }} gcheck{{ $i }}"><img class="cmarkimg" src="../img/sudokufarm/{{ $i }}.png"></label><label class="row{{ $rowI }} rcheck"></label><label class="col{{ $colI }} ccheck"></label><label class="block{{div (add 2 $colI) 3}}{{div (add 2 $rowI) 3}} bcheck"></label>{{ end }}
			  {{ end }}

			  <span class="blackout{{ $i }}"></span>
			  

		{{ end }}
		
		<div id="winSudoku">
			{{ range $numI := (seq 9) }}
			<div id="winSudoku{{ $numI }}">
			{{ end }}
			  {{ range $rowI := (seq 9) }}
				{{ range $colI := (seq 9) }}<label class="col{{ $colI }} row{{ $rowI }} winLabel winLabel{{ index (index $.Params.winpuzzle (sub $rowI 1)) (sub $colI 1) }}"><img class="cmarkimg" src="../img/sudokufarm/{{ index (index $.Params.winpuzzle (sub $rowI 1)) (sub $colI 1) }}.png"></label>{{ end }}
			  {{ end }}
			<span id="winmessage">You Win! Play Another Level?</span>
			{{ range $numI := (seq 9) }}
			</div>
			{{ end }}
		</div>
		
		
		{{ range $ii := (seq $.Params.maxTurns) }}
			{{ range $i := (seq 9) }}
			  <input type="radio" name="radio{{ $ii }}n{{ $i }}" style="display:none;" class="radioPts{{ $i }} radioBD{{ $ii }} radioBD" id="radio{{ $ii }}D{{ $i }}">
			  <label class="cmarkD cmarkD{{ $i }}" for="radio{{ $ii }}D{{ $i }}"><img class="cmarkimg" src="../img/sudokufarm/{{ $i }}.png"></label>
			  <span style="width:0px; height: 0px;"></span>
			{{ end }}
		{{ end }}
		
		
		<table id="dataTable">
			<tr id="emojiData">
				<td class="firstSix">🍕</td>
				<td class="firstSix">💦</td>
				<td class="firstSix">🍚</td>
				<td class="firstSix">💩</td>
				<td class="firstSix">🔥</td>
				<td class="firstSix">👕</td>
				<td class="peopleTD">👤</td>
			</tr>
			
			<tr id="newData">
				<td class="pointsBoard1 firstSix"></td>
				<td class="pointsBoard2 firstSix"></td>
				<td class="pointsBoard3 firstSix"></td>
				<td class="pointsBoard4 firstSix"></td>
				<td class="pointsBoard5 firstSix"></td>
				<td class="pointsBoard6 firstSix"></td>
				<td class="pointsBoard7 peopleTD"></td>
			</tr>

			<tr id="changeData">
				<td class="pointsBoard1c firstSix"></td>
				<td class="pointsBoard2c firstSix"></td>
				<td class="pointsBoard3c firstSix"></td>
				<td class="pointsBoard4c firstSix"></td>
				<td class="pointsBoard5c firstSix"></td>
				<td class="pointsBoard6c firstSix"></td>
				<td class="pointsBoard7c peopleTD"></td>
			</tr>

			<tr id="oldData">
				<td class="pointsBoard1o firstSix"></td>
				<td class="pointsBoard2o firstSix"></td>
				<td class="pointsBoard3o firstSix"></td>
				<td class="pointsBoard4o firstSix"></td>
				<td class="pointsBoard5o firstSix"></td>
				<td class="pointsBoard6o firstSix"></td>
				<td class="pointsBoard7o peopleTD"></td>
			</tr>
			
		</table>
		<span id="foodSpan" class="foodSpan">
			{{ $tempRange := slice 1 2 3 6 7 8 9 }}
			{{range $iii := $tempRange }}{{range $ii := (seq 9) }}{{ if gt $ii (index $.Params.existingPlots (sub $iii 1))}}<span class="item{{ $iii }}{{ $ii }} itemSpan"></span>{{ end }}{{ end }}{{ end }}<span class="endImgSpan"><img height="100%" src="../img/sudokufarm/nofood.png"></span>
		</span>
		<span id="waterSpan" class="waterSpan">
			{{ $tempRange := slice 1 2 3 4 7 8 9 }}
			{{range $iii := $tempRange }}{{range $ii := (seq 9) }}{{ if gt $ii (index $.Params.existingPlots (sub $iii 1))}}<span class="item{{ $iii }}{{ $ii }} item{{ $iii }} itemSpan"></span>{{ end }}{{ end }}{{ end }}<span class="endImgSpan"><img height="100%" src="../img/sudokufarm/nowater.png"></span>
		</span>
		<span id="feedSpan" class="feedSpan">
			{{ $tempRange := slice 1 2 3 6 8 9 }}
			{{range $iii := $tempRange }}{{range $ii := (seq 9) }}{{ if gt $ii (index $.Params.existingPlots (sub $iii 1))}}<span class="item{{ $iii }}{{ $ii }} item{{ $iii }} itemSpan"></span>{{ end }}{{ end }}{{ end }}<span class="endImgSpan"><img height="100%" src="../img/sudokufarm/nofeed.png"></span>
		</span>
		<span id="poopSpan" class="poopSpan">
			{{ $tempRange := slice 1 2 3 7 8 9 }}
			{{range $iii := $tempRange }}{{range $ii := (seq 9) }}{{ if gt $ii (index $.Params.existingPlots (sub $iii 1))}}<span class="item{{ $iii }}{{ $ii }} item{{ $iii }} itemSpan"></span>{{ end }}{{ end }}{{ end }}<span class="endImgSpan"><img height="100%" src="../img/sudokufarm/nopoop.png"></span>
		</span>
		<span id="fireSpan" class="fireSpan">
			{{ $tempRange := slice 5 6 }}
			{{range $iii := $tempRange }}{{range $ii := (seq 9) }}{{ if gt $ii (index $.Params.existingPlots (sub $iii 1))}}<span class="item{{ $iii }}{{ $ii }} itemSpan"></span>{{ end }}{{ end }}{{ end }}<span class="endImgSpan"><img height="100%" src="../img/sudokufarm/nofire.png"></span>
		</span>
		<span id="clothesSpan" class="clothesSpan">
			{{ $tempRange := slice 1 3 }}
			{{range $iii := $tempRange }}{{range $ii := (seq 9) }}{{ if gt $ii (index $.Params.existingPlots (sub $iii 1))}}<span class="item{{ $iii }}{{ $ii }} itemSpan"></span>{{ end }}{{ end }}{{ end }}<span class="endImgSpan"><img height="100%" src="../img/sudokufarm/noclothes.png"></span>
		</span>
		<span class="coverSudoku" id="coverSudoku"></span>
	</div>
		
</body>
{{ end }}

